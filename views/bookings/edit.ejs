<div class="breadcrumb">
    <a href="/dashboard">Dashboard</a> / <a href="/bookings">Danh SÃ¡ch Booking</a> / <strong>Chá»‰nh Sá»­a Booking</strong>
</div>

<% if (typeof errorMessage !== 'undefined' && errorMessage) { %>
    <div class="alert alert-danger"><%= errorMessage %></div>
<% } %>

<div class="form-container">
    <h2 style="color: #667eea; margin-bottom: 30px;">ğŸ“ Chá»‰nh Sá»­a Booking</h2>

    <form method="POST" action="/bookings/<%= booking.id %>" onsubmit="return validateBookingForm();">
        <div class="form-group">
            <label for="userId">ğŸ‘¤ User *</label>
            <input type="text" id="userId" value="<%= booking.userId %>" disabled style="background-color: #f5f5f5;">
            <small style="color: #999;">KhÃ´ng thá»ƒ thay Ä‘á»•i User ID</small>
        </div>

        <div class="form-group">
            <label for="carId">ğŸš— Xe *</label>
            <input type="text" id="carId" value="<%= booking.carId %>" disabled style="background-color: #f5f5f5;">
            <small style="color: #999;">KhÃ´ng thá»ƒ thay Ä‘á»•i Xe</small>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="startDate">ğŸ“… NgÃ y Báº¯t Äáº§u *</label>
                <input type="date" id="startDate" name="startDate" value="<%= booking.startDate %>" required disabled style="background-color: #f5f5f5;">
                <small style="color: #999;">KhÃ´ng thá»ƒ thay Ä‘á»•i</small>
            </div>

            <div class="form-group">
                <label for="endDate">ğŸ“… NgÃ y Káº¿t ThÃºc *</label>
                <input type="date" id="endDate" name="endDate" value="<%= booking.endDate %>" required disabled style="background-color: #f5f5f5;">
                <small style="color: #999;">KhÃ´ng thá»ƒ thay Ä‘á»•i</small>
            </div>
        </div>

        <div class="form-group">
            <label for="status">ğŸ“Š Tráº¡ng ThÃ¡i *</label>
            <select id="status" name="status" required>
                <option value="pending" <%= booking.status === 'pending' ? 'selected' : '' %>>Chá» XÃ¡c Nháº­n</option>
                <option value="confirmed" <%= booking.status === 'confirmed' ? 'selected' : '' %>>ÄÃ£ XÃ¡c Nháº­n</option>
                <option value="completed" <%= booking.status === 'completed' ? 'selected' : '' %>>HoÃ n ThÃ nh</option>
                <option value="cancelled" <%= booking.status === 'cancelled' ? 'selected' : '' %>>Há»§y</option>
            </select>
        </div>

        <div style="background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
            <h4 style="color: #667eea; margin-bottom: 15px;">ğŸ’° ThÃ´ng Tin Chi PhÃ­ (Chá»‰ Xem)</h4>
            <div class="form-row">
                <div class="form-group">
                    <label>GiÃ¡/NgÃ y</label>
                    <input type="number" value="<%= booking.pricePerDay %>" disabled style="background-color: white;">
                </div>
                <div class="form-group">
                    <label>Sá»‘ NgÃ y</label>
                    <input type="number" value="<%= booking.rentalDays %>" disabled style="background-color: white;">
                </div>
            </div>
            <div class="form-group">
                <label>Tá»•ng Chi PhÃ­</label>
                <input type="number" value="<%= booking.totalCost %>" disabled style="background-color: white; font-size: 16px; font-weight: bold; color: #28a745;">
            </div>
        </div>

        <div class="btn-group">
            <button type="submit" class="btn btn-success">âœ“ LÆ°u Thay Äá»•i</button>
            <a href="/bookings/<%= booking.id %>" class="btn btn-secondary">â† Há»§y</a>
        </div>
    </form>
</div>

<script>
function validateBookingForm() {
    return confirm('Báº¡n cháº¯c cháº¯n muá»‘n cáº­p nháº­t tráº¡ng thÃ¡i booking nÃ y?');
}
</script>
